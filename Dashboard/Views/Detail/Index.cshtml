@{
    Layout = "~/Views/Shared/_Barcode.cshtml";
}

<body>
    <h1>Sales</h1>

    <form>

    
        <input type="text" id="itemNameInput" placeholder="Type item name">
        <input type="text" id="categoryInput" placeholder="Category" readonly>
        <input type="text" id="brandInput" placeholder="Brand" readonly>
        <!-- Add other input fields for sales details -->
    

       @* <div class="form-group">
        <label for="particular">Particular:</label>
        <input type="text" class="form-control" id="particular" placeholder="Search for an item..." autocomplete="off">
        <div id="item-suggestions"></div>
       </div>
      <div class="form-group">
        <label for="item-code">Item Code:</label>
        <input type="text" class="form-control" id="item-code" readonly>
      </div>
      <div class="form-group">
        <label for="category">Category:</label>
        <input type="text" class="form-control" id="category" readonly>
      </div>
      <div class="form-group">
        <label for="brand">Brand:</label>
        <input type="text" class="form-control" id="brand" readonly>
       </div>*@
    </form>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>

        $(function () {
            $("#itemNameInput").autocomplete({
                source: function (request, response) {
                    // Make an AJAX request to fetch matching item names
                    $.ajax({
                        url: "/Detail/GetMatchingItemNames",
                        type: "POST",
                        dataType: "json",
                        data: { input: request.term },
                        success: function (data) {
                            response(data);
                        }
                    });
                },
                select: function (event, ui) {
                    // When a name is selected, populate the remaining fields
                    var selectedName = ui.item.value;

                    // Make an AJAX request to get item details based on the selected name
                    $.ajax({
                        url: "/Detail/GetItemDetails",
                        type: "POST",
                        dataType: "json",
                        data: { itemName: selectedName },
                        success: function (data) {
                            // Populate the input fields with the item details
                            $("#categoryInput").val(data.Category);
                            $("#brandInput").val(data.Brand);
                            // Populate other input fields as needed
                        }
                    });
                }
            });
        });
            
    </script>
</body>